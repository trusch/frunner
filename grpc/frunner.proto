syntax = "proto3";

package grpc;

message InputData {
  bytes data = 1;
}

message OutputData {
  // if true -> last OutputData packet
  bool ready = 1;
  // false if error while execution
  bool success = 2;
  // eventually error message in case of !success
  string errorMessage = 3;

  // streaming output data (stdout)
  bytes output = 4;
  // streaming error data (stderr)
  bytes errors = 5;
}

service FunctionRunner {
  rpc Run(stream InputData) returns (stream OutputData) {}
}
